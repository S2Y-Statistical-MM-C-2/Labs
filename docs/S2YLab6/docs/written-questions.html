<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Written questions | Lab 6 - Ordinary least squares</title>
  <meta name="description" content="6 Written questions | Lab 6 - Ordinary least squares" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Written questions | Lab 6 - Ordinary least squares" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Written questions | Lab 6 - Ordinary least squares" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exercise-3-the-taste-of-cheese.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to Lab 6!</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#introduction-to-ordinary-least-squares-ols"><i class="fa fa-check"></i><b>1.1</b> Introduction to Ordinary Least Squares (OLS)</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#the-simplest-regression-model-simple-linear-regression-one-covariate"><i class="fa fa-check"></i><b>1.2</b> The simplest regression model: simple linear regression (one covariate)</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#the-next-simplest-regression-model-multiple-linear-regression-multiple-predictors"><i class="fa fa-check"></i><b>1.3</b> The next-simplest regression model: multiple linear regression (multiple predictors)</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#ordinary-least-squares"><i class="fa fa-check"></i><b>1.4</b> Ordinary least squares</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="example-1-crime.html"><a href="example-1-crime.html"><i class="fa fa-check"></i><b>2</b> Example 1: Crime</a>
<ul>
<li class="chapter" data-level="2.1" data-path="example-1-crime.html"><a href="example-1-crime.html#simple-linear-regression"><i class="fa fa-check"></i><b>2.1</b> Simple linear regression</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="example-1-crime.html"><a href="example-1-crime.html#least-squares-estimates-of-model-parameters-in-matrix-notation"><i class="fa fa-check"></i><b>2.1.1</b> Least squares estimates of model parameters in matrix notation</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="example-1-crime.html"><a href="example-1-crime.html#multiple-linear-regression"><i class="fa fa-check"></i><b>2.2</b> Multiple linear regression</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="exercise-1-slr-with-no-intercept.html"><a href="exercise-1-slr-with-no-intercept.html"><i class="fa fa-check"></i><b>3</b> Exercise 1: SLR with no intercept</a>
<ul>
<li class="chapter" data-level="3.1" data-path="exercise-1-slr-with-no-intercept.html"><a href="exercise-1-slr-with-no-intercept.html#exploratory-analysis"><i class="fa fa-check"></i><b>3.1</b> Exploratory analysis</a></li>
<li class="chapter" data-level="3.2" data-path="exercise-1-slr-with-no-intercept.html"><a href="exercise-1-slr-with-no-intercept.html#fitting-a-simple-linear-regression-model"><i class="fa fa-check"></i><b>3.2</b> Fitting a simple linear regression model</a></li>
<li class="chapter" data-level="3.3" data-path="exercise-1-slr-with-no-intercept.html"><a href="exercise-1-slr-with-no-intercept.html#fitting-a-linear-model-with-no-intercept"><i class="fa fa-check"></i><b>3.3</b> Fitting a linear model with no intercept</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exercise-2-quadratic-regression.html"><a href="exercise-2-quadratic-regression.html"><i class="fa fa-check"></i><b>4</b> Exercise 2: Quadratic regression</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exercise-2-quadratic-regression.html"><a href="exercise-2-quadratic-regression.html#exploratory-analysis-1"><i class="fa fa-check"></i><b>4.1</b> Exploratory analysis</a></li>
<li class="chapter" data-level="4.2" data-path="exercise-2-quadratic-regression.html"><a href="exercise-2-quadratic-regression.html#fitting-a-quadratic-regression-model"><i class="fa fa-check"></i><b>4.2</b> Fitting a quadratic regression model</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exercise-3-the-taste-of-cheese.html"><a href="exercise-3-the-taste-of-cheese.html"><i class="fa fa-check"></i><b>5</b> Exercise 3: The taste of cheese</a>
<ul>
<li class="chapter" data-level="5.1" data-path="exercise-3-the-taste-of-cheese.html"><a href="exercise-3-the-taste-of-cheese.html#exploratory-analysis-2"><i class="fa fa-check"></i><b>5.1</b> Exploratory analysis</a></li>
<li class="chapter" data-level="5.2" data-path="exercise-3-the-taste-of-cheese.html"><a href="exercise-3-the-taste-of-cheese.html#fitting-a-model-with-a-transformation"><i class="fa fa-check"></i><b>5.2</b> Fitting a model with a transformation</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="written-questions.html"><a href="written-questions.html"><i class="fa fa-check"></i><b>6</b> Written questions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="written-questions.html"><a href="written-questions.html#question-1"><i class="fa fa-check"></i><b>6.1</b> Question 1</a></li>
<li class="chapter" data-level="6.2" data-path="written-questions.html"><a href="written-questions.html#question-2"><i class="fa fa-check"></i><b>6.2</b> Question 2</a></li>
<li class="chapter" data-level="6.3" data-path="written-questions.html"><a href="written-questions.html#question-3"><i class="fa fa-check"></i><b>6.3</b> Question 3</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lab 6 - Ordinary least squares</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="written-questions" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Written questions<a href="written-questions.html#written-questions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="question-1" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Question 1<a href="written-questions.html#question-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Just now, we estimated model parameters using <code>R</code>. Below is a conversion of Example 1 in an exam-style written question.</p>
<p>50 US states were investigated in terms of their crime rates (per 100,000 people), which includes crimes such as murder, assault, and car theft. Some demographic information about each state was also recorded, such as the number of police and prisoners per 100,000 people and the percentage of high school dropouts (i.e. 16-19 year olds who were not in school and did not finish the 12<span class="math inline">\(^\text{th}\)</span> grade). Figure <a href="#fig:crime"><strong>??</strong></a> below is a scatterplot of the percentage of high school dropouts <span class="math inline">\(x\)</span> and the crime rate (<span class="math inline">\(Y\)</span>).</p>
<p><img src="main_files/figure-html/crime-1.png" width="672" /></p>
<p>Some summary statistics are also calculated.</p>
<ol style="list-style-type: lower-alpha">
<li><p>Comment on the relationship between the percentage of high school dropouts and the crime rate.</p></li>
<li><p>Calculate the sample correlation coefficient and provide an interpretation of this value.</p></li>
<li><p>The following linear model, Model 1, was fitted to the data, with the crime rate as the response (<span class="math inline">\(Y\)</span>) and the percentage of high school dropouts as the predictor (<span class="math inline">\(x\)</span>):</p></li>
</ol>
<p>Model 1: <span class="math inline">\(\mathbb{E}(Y_i) = \beta_0+\beta_1 x_i, \quad \text{Var}(Y_i) = \sigma^2\)</span>.</p>
<p>Using the sum of squares function, <span class="math inline">\(\mathcal{Q}(\beta_0, \beta_1) = \sum_{i=1}^{n}(Y_i-E(Y_i))^2\)</span>, derive the least squares estimators for <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span>.</p>
<p>You <strong>do not</strong> need to confirm that you have found a mimimum.</p>
<ol start="4" style="list-style-type: lower-alpha">
<li>Use the summary statistics to calculate the least squares estimates for <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span>.</li>
</ol>
</div>
<div id="question-2" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Question 2<a href="written-questions.html#question-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Consider the following model:</p>
<div class="line-block">            <strong>Data</strong>: <span class="math inline">\((y_i, x_i) \quad i=1,\dots,n\)</span></div>
<div class="line-block">            <strong>Model</strong>: <span class="math inline">\(\mathbb{E}(Y_i) = \beta_0+\beta_1 x_i+\beta_2 x_i^2,\quad \text{Var}(Y_i) = \sigma^2\)</span></div>
<p>This model has been proposed for the potato example used in the lectures.</p>
<ol style="list-style-type: lower-alpha">
<li><p>Write this model in matrix notation, <span class="math inline">\(\mathbb{E}(\mathbf{Y}\)</span>) = <span class="math inline">\(\mathbf{X}\boldsymbol{\beta}\)</span>, clearly identifying the elements of <span class="math inline">\(\mathbf{Y}\)</span>, <span class="math inline">\(\mathbf{X}\)</span> and <span class="math inline">\(\boldsymbol{\beta}\)</span>.</p></li>
<li><p>Identify formulae (in terms of the <span class="math inline">\(Y_i\)</span>'s and <span class="math inline">\(x_i\)</span>'s) for the elements of <span class="math inline">\(\mathbf{X}&#39;\mathbf{X}\)</span> and <span class="math inline">\(\mathbf{X}&#39;\mathbf{y}\)</span>.</p></li>
</ol>
</div>
<div id="question-3" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Question 3<a href="written-questions.html#question-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For question 2, write down the likelihood and log-likelihood assuming that <span class="math inline">\(Y_i\)</span> is Normally distributed.</p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Check Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Check Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="exercise-3-the-taste-of-cheese.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["main.pdf", "main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
